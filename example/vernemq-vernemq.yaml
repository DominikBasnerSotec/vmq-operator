apiVersion: vmq.k8s.vernemq.com/v1alpha1
kind: VerneMQ
metadata:
  labels:
    vernemq: k8s
  name: k8s
  namespace: messaging
spec:
  baseImage: vernemq/vernemq
  config:
    configs:
    - name: allow_register_during_netsplit
      value: "on"
    - name: allow_publish_during_netsplit
      value: "on"
    - name: allow_subscribe_during_netsplit
      value: "on"
    - name: allow_unsubscribe_during_netsplit
      value: "on"
    listeners:
    - address: 0.0.0.0
      port: 1883
    - address: 0.0.0.0
      port: 1888
      websocket: true
    plugins: []
  env:
    - name: VERNEMQ_CONF
      value: YWNjZXB0X2V1bGEgPSB5ZXMKYWxsb3dfYW5vbnltb3VzID0gb24KYWxsb3dfcmVnaXN0ZXJfZHVyaW5nX25ldHNwbGl0ID0gb2ZmCmFsbG93X3B1Ymxpc2hfZHVyaW5nX25ldHNwbGl0ID0gb2ZmCmFsbG93X3N1YnNjcmliZV9kdXJpbmdfbmV0c3BsaXQgPSBvZmYKYWxsb3dfdW5zdWJzY3JpYmVfZHVyaW5nX25ldHNwbGl0ID0gb2ZmCmFsbG93X211bHRpcGxlX3Nlc3Npb25zID0gb2ZmCmNvb3JkaW5hdGVfcmVnaXN0cmF0aW9ucyA9IG9uCm1heF9pbmZsaWdodF9tZXNzYWdlcyA9IDIwCm1heF9vbmxpbmVfbWVzc2FnZXMgPSAxMDAwCm1heF9vZmZsaW5lX21lc3NhZ2VzID0gMTAwMAptYXhfbWVzc2FnZV9zaXplID0gMAp1cGdyYWRlX291dGdvaW5nX3FvcyA9IG9mZgpsaXN0ZW5lci5tYXhfY29ubmVjdGlvbnMgPSAxMDAwMApsaXN0ZW5lci5ucl9vZl9hY2NlcHRvcnMgPSAxMApsaXN0ZW5lci50Y3AuZGVmYXVsdCA9IDEyNy4wLjAuMToxODgzCmxpc3RlbmVyLnZtcS5jbHVzdGVyaW5nID0gMC4wLjAuMDo0NDA1MwpsaXN0ZW5lci5odHRwLmRlZmF1bHQgPSAxMjcuMC4wLjE6ODg4OApzeXN0cmVlX2VuYWJsZWQgPSBvbgpzeXN0cmVlX2ludGVydmFsID0gMjAwMDAKZ3JhcGhpdGVfZW5hYmxlZCA9IG9mZgpncmFwaGl0ZV9ob3N0ID0gbG9jYWxob3N0CmdyYXBoaXRlX3BvcnQgPSAyMDAzCmdyYXBoaXRlX2ludGVydmFsID0gMjAwMDAKc2hhcmVkX3N1YnNjcmlwdGlvbl9wb2xpY3kgPSBwcmVmZXJfbG9jYWwKcGx1Z2lucy52bXFfcGFzc3dkID0gb24KcGx1Z2lucy52bXFfYWNsID0gb24KcGx1Z2lucy52bXFfZGl2ZXJzaXR5ID0gb2ZmCnBsdWdpbnMudm1xX3dlYmhvb2tzID0gb2ZmCnBsdWdpbnMudm1xX2JyaWRnZSA9IG9mZgp0b3BpY19tYXhfZGVwdGggPSAxMAptZXRhZGF0YV9wbHVnaW4gPSB2bXFfc3djCnZtcV9hY2wuYWNsX2ZpbGU9L2V0Yy92ZXJuZW1xL2NvbmZpZ21hcHMvdmVybmVtcS1jb25maWdtYXBzL3ZtcS5hY2wKdm1xX2FjbC5hY2xfcmVsb2FkX2ludGVydmFsID0gMTAKdm1xX3Bhc3N3ZC5wYXNzd29yZF9maWxlID0gLi9ldGMvdm1xLnBhc3N3ZAp2bXFfcGFzc3dkLnBhc3N3b3JkX3JlbG9hZF9pbnRlcnZhbCA9IDEwCnZtcV9kaXZlcnNpdHkuc2NyaXB0X2RpciA9IC4vc2hhcmUvbHVhCnZtcV9kaXZlcnNpdHkuYXV0aF9wb3N0Z3Jlcy5lbmFibGVkID0gb2ZmCnZtcV9kaXZlcnNpdHkucG9zdGdyZXMuc3NsID0gb2ZmCnZtcV9kaXZlcnNpdHkucG9zdGdyZXMucGFzc3dvcmRfaGFzaF9tZXRob2QgPSBjcnlwdAp2bXFfZGl2ZXJzaXR5LmF1dGhfY29ja3JvYWNoZGIuZW5hYmxlZCA9IG9mZgp2bXFfZGl2ZXJzaXR5LmNvY2tyb2FjaGRiLnNzbCA9IG9uCnZtcV9kaXZlcnNpdHkuY29ja3JvYWNoZGIucGFzc3dvcmRfaGFzaF9tZXRob2QgPSBiY3J5cHQKdm1xX2RpdmVyc2l0eS5hdXRoX215c3FsLmVuYWJsZWQgPSBvZmYKdm1xX2RpdmVyc2l0eS5teXNxbC5wYXNzd29yZF9oYXNoX21ldGhvZCA9IHBhc3N3b3JkCnZtcV9kaXZlcnNpdHkuYXV0aF9tb25nb2RiLmVuYWJsZWQgPSBvZmYKdm1xX2RpdmVyc2l0eS5tb25nb2RiLnNzbCA9IG9mZgp2bXFfZGl2ZXJzaXR5LmF1dGhfcmVkaXMuZW5hYmxlZCA9IG9mZgp2bXFfYmNyeXB0LnBvb2xfc2l6ZSA9IDEKbG9nLmNvbnNvbGUgPSBmaWxlCmxvZy5jb25zb2xlLmxldmVsID0gaW5mbwpsb2cuY29uc29sZS5maWxlID0gLi9sb2cvY29uc29sZS5sb2cKbG9nLmVycm9yLmZpbGUgPSAuL2xvZy9lcnJvci5sb2cKbG9nLnN5c2xvZyA9IG9mZgpsb2cuY3Jhc2ggPSBvbgpsb2cuY3Jhc2guZmlsZSA9IC4vbG9nL2NyYXNoLmxvZwpsb2cuY3Jhc2gubWF4aW11bV9tZXNzYWdlX3NpemUgPSA2NEtCCmxvZy5jcmFzaC5zaXplID0gMTBNQgpsb2cuY3Jhc2gucm90YXRpb24ua2VlcCA9IDUKbm9kZW5hbWUgPSBWZXJuZU1RQDEyNy4wLjAuMQpkaXN0cmlidXRlZF9jb29raWUgPSB2bXEKZXJsYW5nLmFzeW5jX3RocmVhZHMgPSA2NAplcmxhbmcubWF4X3BvcnRzID0gMjYyMTQ0CmxldmVsZGIubWF4aW11bV9tZW1vcnkucGVyY2VudCA9IDcw
  serviceAccountName: vernemq-k8s
  size: 2
  version: 1.12.3
  configMaps:
    - "vernemq-configmap"